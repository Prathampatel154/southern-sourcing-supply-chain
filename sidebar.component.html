<nav 
  #sidebar 
  [class.expanded]="isExpanded" 
  class="sidebar text-white d-flex flex-column align-items-center position-fixed top-0 start-0 vh-100"
  [ngStyle]="{
    'transition': 'width 0.3s ease-in-out',
    'background-color': '#3d4f5c',
    'width': isExpanded ? '280px' : '100px',
    'white-space': 'nowrap',
    'z-index': '1050'
  }">

  <!-- Sidebar Header -->
  <div class="sidebar-header d-flex align-items-center justify-content-start w-100 px-3"
       [ngStyle]="{
         'height': '75px', 
         'border-bottom': '1px solid rgba(255, 255, 255, 0.1)',
         'position': 'sticky',
         'top': '0',
         'background-color': '#3e4e5b',
         'z-index': '1100'
       }">
    <button (click)="toggleSidebar()" class="btn border-0 d-flex align-items-center justify-content-center"
        [ngStyle]="{
          'background-color': 'transparent', 
          'width': '70px',
          'height': '70px',
          'padding': '0px'
        }">
      <img src="assets/images/SSS-removebg-preview.png" 
           alt="Logo" 
           class="img-fluid"
           [ngStyle]="{
             'width': isExpanded ? '60px' : '50px',
             'height': isExpanded ? '60px' : '50px',
             'transition': 'width 0.3s ease-in-out'
           }">
    </button>
  </div>

  <!-- Sidebar Links -->
  <ul class="nav flex-column mt-4 w-100">
    <li *ngIf="userRole === 'SuperAdmin'" class="nav-item">
      <a class="nav-link d-flex align-items-center text-white p-2" 
         routerLink="/dashboard/users" routerLinkActive="active" 
         (click)="closeSidebar()">
        <i class="bi bi-people fs-4 p-2 ms-2"></i> 
        <span class="menu-text ms-2" *ngIf="isExpanded">User Management</span>
      </a>
    </li>
    
    <li *ngIf="userRole === 'SuperAdmin'" class="nav-item">
      <a class="nav-link d-flex align-items-center text-white p-2" 
         routerLink="/dashboard/enquiry" routerLinkActive="active" 
         (click)="closeSidebar()">
        <i class="bi bi-envelope fs-4 p-2 ms-2"></i> 
        <span class="menu-text ms-2" *ngIf="isExpanded">Coinzee Enquiry</span>
      </a>
    </li>
  
    <li class="nav-item">
      <a class="nav-link d-flex align-items-center text-white p-2" 
         routerLink="/dashboard/product" routerLinkActive="active" 
         (click)="closeSidebar()">
        <i class="bi bi-box-seam fs-4 p-2 ms-2"></i> 
        <span class="menu-text ms-2" *ngIf="isExpanded">Product Management</span>
      </a>
    </li>
  </ul>

  <!-- Bottom Section for Small Screens -->
  <div class="mt-auto w-100 d-lg-none">
    <hr class="border-light" />

    <!-- Nav Items (similar to top navbar) -->
    <ul class="nav flex-column">

      <li class="nav-item">
        <a class="nav-link text-white" routerLink="/aboutus" routerLinkActive="active" (click)="closeSidebar()">
          <i class="bi bi-info-circle fs-4 p-2"></i>
          <span class="menu-text ms-2" *ngIf="isExpanded">About Us</span>
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link text-white" routerLink="/coinzee" routerLinkActive="active" (click)="closeSidebar()">
          <i class="bi bi-currency-bitcoin  fs-4 p-2"></i>
          <span class="menu-text ms-2" *ngIf="isExpanded">CoinZee</span>
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link text-white" routerLink="/services" routerLinkActive="active" (click)="closeSidebar()">
          <i class="bi bi-tools  fs-4 p-2"></i>
          <span class="menu-text ms-2" *ngIf="isExpanded">Services</span>
        </a>
      </li>

      <li class="nav-item">
        <a class="nav-link text-white" routerLink="/support" routerLinkActive="active" (click)="closeSidebar()">
          <i class="bi bi-question-circle  fs-4 p-2"></i>
          <span  class="menu-text ms-2" *ngIf="isExpanded">Support</span>
        </a>
      </li>

      <ng-container *ngIf="!isLoggedIn">
        <li class="nav-item">
          <a 
            class="btn btn-primary w-100 d-flex align-items-center my-2" 
            routerLink="/login"
            [title]="!isExpanded ? 'Login' : null">
            <i class="bi bi-box-arrow-in-right fs-5 "></i>
            <span class="ms-2" *ngIf="isExpanded">Login</span>
          </a>
        </li>
      
        <li class="nav-item">
          <a 
            class="btn btn-secondary w-100 d-flex align-items-center" 
            routerLink="/signup"
            [title]="!isExpanded ? 'Sign Up' : null">
            <i class="bi bi-person-plus fs-5 "></i>
            <span class="ms-2" *ngIf="isExpanded">Sign Up</span>
          </a>
        </li>
      </ng-container>

      <ng-container *ngIf="isLoggedIn">
        <li class="nav-item mt-2 ps-4 text-white small" *ngIf="isExpanded">
          Welcome, <span class="fw-bold ">{{ username }}</span>
        </li>
        <li class="nav-item mt-1">
          <button class="btn text-white ms-2  d-flex align-items-center w-100" (click)="logout()">
            <i class="bi bi-box-arrow-right fs-4 ps-2 "></i>
            <span class="ms-2" *ngIf="isExpanded">Logout</span>
          </button>          
        </li>
      </ng-container>
    </ul>
  </div>
</nav>
